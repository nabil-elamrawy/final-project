<div class="cart-container">
  @for(item of cart.items(); track item.id) {
  <div class="cart-item">
    <div class="item-info">
      <h3 class="item-name">{{ item.name }}</h3>
      <p class="item-details">{{ item.price }}$</p>
    </div>
    <div class="item-actions">
      <button class="btn decrease" (click)="decrease(item.id, item.quantity)">-</button>
      <span>{{ item.quantity }}</span>
      <button class="btn increase" (click)="increase(item.id, item.quantity)">+</button>
      <button class="btn remove" (click)="remove(item.id)">Remove</button>
      <span>{{ item.quantity * item.price }}$</span>
    </div>
  </div>
  }

  <div class="cart-summary">
    <p class="total">
      Total Price: <span>{{ cart.totalPrice() }}$</span>
    </p>
    <div class="cart-actions">
      <button class="btn clear" (click)="cart.clearCart()">Clear Cart</button>
      <button
        class="btn create-order"
        (click)="createOrder()"
        [disabled]="isCreatingOrder || cart.items().length === 0"
      >
        {{ isCreatingOrder ? 'Creating Order...' : 'Create Order' }}
      </button>
    </div>
    <div *ngIf="errorMessage" class="error-message">
      <i class="fas fa-exclamation-circle"></i>
      {{ errorMessage }}
    </div>
  </div>
</div>
